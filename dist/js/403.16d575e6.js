"use strict";(self["webpackChunkfinal_project"]=self["webpackChunkfinal_project"]||[]).push([[403],{2591:function(t,e,a){a.d(e,{Z:function(){return v}});var i=a(3396),s=a(9242),c=a(7139);const l={"aria-label":"Page navigation example"},r={class:"pagination justify-content-center"},p={class:"page-item"},o=(0,i._)("span",{"aria-hidden":"true"},"«",-1),g=[o],n=["onClick"],h={class:"page-item"},d=(0,i._)("span",{"aria-hidden":"true"},"»",-1),u=[d];function m(t,e,a,o,d,m){return(0,i.wg)(),(0,i.iD)("nav",l,[(0,i._)("ul",r,[(0,i.wy)((0,i._)("li",p,[(0,i._)("a",{class:"page-link sty2",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,s.iM)((t=>m.updatePage(d.curPage-1)),["prevent"]))},g)],512),[[s.F8,a.pages.has_pre]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.pages.total_pages,(t=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("li",{class:(0,c.C_)(["page-item",{active:t===a.pages.current_page}]),key:t},[(0,i._)("a",{class:"page-link sty2",href:"#",onClick:(0,s.iM)((e=>m.updatePage(t)),["prevent"])},(0,c.zw)(t),9,n)],2)),[[s.F8,a.pages.total_pages>1]]))),128)),(0,i.wy)((0,i._)("li",h,[(0,i._)("a",{class:"page-link sty2",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,s.iM)((t=>m.updatePage(d.curPage+1)),["prevent"]))},u)],512),[[s.F8,a.pages.has_next]])])])}var P={data(){return{curPage:1}},props:["pages"],methods:{updatePage(t){this.$emit("emit-pages",t),this.curPage=t}},created(){console.log("page",this.pages)}},_=a(89);const f=(0,_.Z)(P,[["render",m]]);var v=f},1403:function(t,e,a){a.r(e),a.d(e,{default:function(){return U}});var i=a(3396),s=a(7139),c=a(9242);const l={"aria-label":"breadcrumb"},r={class:"breadcrumb"},p={class:"breadcrumb-item"},o=(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},"全部商品",-1),g={class:"row mt-5 flex-lg-row flex-md-column"},n={class:"pLeft col-lg-3 col-md-12"},h={class:"productLeft"},d=(0,i._)("div",{class:"leftTitle py-2 ps-2 d-flex align-items-center"},[(0,i._)("i",{class:"bi bi-handbag"}),(0,i._)("p",{class:"fw-bolder fs-5 mb-0"},"產品類型")],-1),u={class:"leftList ps-0"},m=["onClick"],P={class:"pRight col-lg-9 col-md-12"},_={class:"pageTitle fs-4 py-2 mb-4 fw-bolder"},f={key:0,class:"productList row"},v=["onClick"],w=["src"],k={class:"productText my-2"},y={class:"category mb-1 fw-bold"},b={href:"#"},D={class:"mb-1"},C={key:0,class:"price origin fst-italic text-muted mb-1"},x={class:"price"},L={key:1,class:"productList row"},T=["onClick"],z=["src"],$={class:"productText my-2"},A={class:"category mb-1 fw-bold"},N={href:"#"},M={class:"mb-1"},H={key:0,class:"price origin fst-italic text-muted mb-1"},Y={class:"price"};function E(t,e,a,E,K,Z){const j=(0,i.up)("LoadingComponent"),F=(0,i.up)("router-link"),U=(0,i.up)("PagenationComponent");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(j,{active:K.isLoading},null,8,["active"]),(0,i._)("nav",l,[(0,i._)("ol",r,[(0,i._)("li",p,[(0,i.Wm)(F,{to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("首頁")])),_:1})]),o])]),(0,i._)("div",g,[(0,i._)("div",n,[(0,i._)("div",h,[d,(0,i._)("ul",u,[(0,i._)("li",{class:(0,s.C_)(K.checkAll?"active":"")},[(0,i._)("a",{href:"#",onClick:e[0]||(e[0]=(0,c.iM)(((...t)=>Z.changeALL&&Z.changeALL(...t)),["prevent"]))},"全部")],2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(K.allCategory,(t=>((0,i.wg)(),(0,i.iD)("li",{class:(0,s.C_)(t===K.title?"active":""),key:t},[(0,i._)("a",{href:"#",onClick:(0,c.iM)((e=>Z.changeCategory(t)),["prevent"])},(0,s.zw)(t),9,m)],2)))),128))])])]),(0,i._)("div",P,[(0,i._)("div",_,(0,s.zw)(K.title),1),K.checkAll?((0,i.wg)(),(0,i.iD)("div",f,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(K.tempProducts,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"product col-md-4 col-sm-6 mb-4",key:t.id},[(0,i._)("a",{href:"#",onClick:(0,c.iM)((e=>Z.getProduct(t.id)),["prevent"])},[(0,i._)("img",{src:t.imageUrl},null,8,w)],8,v),(0,i._)("div",k,[(0,i._)("p",y,[(0,i._)("small",null,(0,s.zw)(t.category),1)]),(0,i._)("a",b,[(0,i._)("p",D,(0,s.zw)(t.title),1)]),t.origin_price!==t.price?((0,i.wg)(),(0,i.iD)("p",C,[(0,i._)("del",null,[(0,i._)("small",null,"NT$"+(0,s.zw)(t.origin_price),1)])])):(0,i.kq)("",!0),(0,i._)("p",x,"NT$"+(0,s.zw)(t.price),1)])])))),128))])):((0,i.wg)(),(0,i.iD)("div",L,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(K.tempPage.disData,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"product col-md-4 col-sm-6 mb-4",key:t.id},[(0,i._)("a",{href:"#",onClick:(0,c.iM)((e=>Z.getProduct(t.id)),["prevent"])},[(0,i._)("img",{src:t.imageUrl},null,8,z)],8,T),(0,i._)("div",$,[(0,i._)("p",A,[(0,i._)("small",null,(0,s.zw)(t.category),1)]),(0,i._)("a",N,[(0,i._)("p",M,(0,s.zw)(t.title),1)]),t.origin_price!==t.price?((0,i.wg)(),(0,i.iD)("p",H,[(0,i._)("del",null,[(0,i._)("small",null,"NT$"+(0,s.zw)(t.origin_price),1)])])):(0,i.kq)("",!0),(0,i._)("p",Y,"NT$"+(0,s.zw)(t.price),1)])])))),128))])),(0,i.Wm)(U,{pages:K.tempPagination,onEmitPages:Z.getProducts},null,8,["pages","onEmitPages"])])])],64)}a(7658);var K=a(2591),Z={data(){return{products:[],allProducts:[],pagination:{},tempPagination:{},allCategory:[],tempProducts:[],tempPage:{cateData:[],dataTotal:0,perpage:10,pageTotal:0,currentPage:1,minData:0,maxData:0,disData:[],hasPre:!1,hasNext:!1},title:"全部",checkAll:!0,isLoading:!1}},components:{PagenationComponent:K.Z},methods:{getALLProducts(){const t="https://vue3-course-api.hexschool.io/api/david-api/products";this.$http.get(t).then((t=>{t.data.success&&(this.allProducts=t.data.products)}))},getProducts(t=1){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/david-api/products?page=${t}`;this.$http.get(e).then((t=>{t.data.success&&(this.isLoading=!1,this.products=t.data.products,this.pagination=t.data.pagination,this.tempPagination=this.pagination,this.tempProducts={...this.products},console.log("product",t.data))}))},getProduct(t){this.$router.push(`product/${t}`)},getCategory(){const t="https://vue3-course-api.hexschool.io/api/david-api/products";this.$http.get(t).then((t=>{t.data.success&&t.data.products.forEach((t=>{-1===this.allCategory.indexOf(t.category)&&this.allCategory.push(t.category)}))}))},changeCategory(t){this.tempPage.cateData=[],this.tempPage.disData=[],this.title=t,this.tempPage.cateData=this.allProducts.filter((e=>e.category===t)),console.log(this.title,"的長度有",this.tempPage.cateData.length),this.tempPage.dataTotal=this.tempPage.cateData.length,this.tempPage.pageTotal=Math.ceil(this.tempPage.dataTotal/this.tempPage.perpage),this.pagination.currentPage=1,this.minData=this.tempPage.currentPage*this.tempPage.perpage-this.tempPage.perpage+1,this.maxData=this.tempPage.currentPage*this.tempPage.perpage,this.tempPage.cateData.forEach(((t,e)=>{const a=e+1;a>=this.minData&&a<=this.maxData&&this.tempPage.disData.push(t)})),this.tempPage.currentPage>1?this.tempPage.hasPre=!0:this.tempPage.hasPre=!1,this.tempPage.currentPage+1<this.tempPage.pageTotal?this.tempPage.hasNext=!0:this.tempPage.hasNext=!1,this.tempPagination={currentPage:this.tempPage.currentPage,has_next:this.tempPage.hasNext,has_pre:this.tempPage.hasPre,total_pages:this.tempPage.pageTotal},this.checkAll=!1},changeALL(){this.title="全部",this.tempProducts={...this.products},this.tempPagination=this.pagination,this.checkAll=!0}},created(){this.getALLProducts(),this.getProducts(),this.getCategory()}},j=a(89);const F=(0,j.Z)(Z,[["render",E]]);var U=F}}]);
//# sourceMappingURL=403.16d575e6.js.map