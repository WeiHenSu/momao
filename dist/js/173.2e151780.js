"use strict";(self["webpackChunkfinal_project"]=self["webpackChunkfinal_project"]||[]).push([[173],{5173:function(t,i,e){e.r(i),e.d(i,{default:function(){return W}});var s=e(3396),n=e(7139),a=e(9242);const c={"aria-label":"breadcrumb"},o={class:"breadcrumb"},l={class:"breadcrumb-item"},r={class:"breadcrumb-item"},d={class:"breadcrumb-item active","aria-current":"page"},u={class:"row justify-content-center"},p={class:"productImg col-lg-5 col-md-12 my-md-3"},m=["src"],h={class:"col-lg-7 col-md-12 px-lg-4 my-md-5"},b={class:"title fw-bold mb-3"},g={class:"descripton mb-4"},_={key:0,class:"h5"},f={key:1,class:"h6"},y={key:2,class:"h5 fw-bold"},v={class:"inputSty"},w=(0,s._)("p",{class:"mt-4 mb-2"},"數量：",-1),k={class:"input-group align-items-center"},Q={class:"input-group-prepend"},C=(0,s._)("i",{class:"bi bi-dash"},null,-1),L=[C],x={class:"input-group-prepend"},z=(0,s._)("i",{class:"bi bi-plus"},null,-1),$=[z],j=(0,s._)("hr",null,null,-1);function q(t,i,e,C,z,q){const D=(0,s.up)("LoadingComponent"),T=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(D,{active:z.isLoading},null,8,["active"]),(0,s._)("nav",c,[(0,s._)("ol",o,[(0,s._)("li",l,[(0,s.Wm)(T,{to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)("首頁")])),_:1})]),(0,s._)("li",r,[(0,s.Wm)(T,{to:"/userboard/productlist"},{default:(0,s.w5)((()=>[(0,s.Uk)("全部商品")])),_:1})]),(0,s._)("li",d,(0,n.zw)(z.info.title),1)])]),(0,s._)("div",u,[(0,s._)("div",p,[(0,s._)("img",{src:z.info.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,m)]),(0,s._)("div",h,[(0,s._)("h2",b,(0,n.zw)(z.info.title),1),(0,s._)("div",g,(0,n.zw)(z.info.description),1),z.info.price?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_,(0,n.zw)(z.info.origin_price)+" 元",1)),z.info.price?((0,s.wg)(),(0,s.iD)("del",f,"NT$ "+(0,n.zw)(z.info.origin_price),1)):(0,s.kq)("",!0),z.info.price?((0,s.wg)(),(0,s.iD)("div",y," NT$"+(0,n.zw)(z.info.price),1)):(0,s.kq)("",!0),(0,s._)("div",v,[w,(0,s._)("div",k,[(0,s._)("div",Q,[(0,s._)("button",{class:"countBtn btn btn-muted btn-sm btn-dark text-white me-2",id:"minus-btn",onClick:i[0]||(i[0]=(...t)=>q.minusQty&&q.minusQty(...t))},L)]),(0,s.wy)((0,s._)("input",{type:"number",class:"form-control text-center",min:"1","onUpdate:modelValue":i[1]||(i[1]=t=>z.tempQty=t)},null,512),[[a.nr,z.tempQty]]),(0,s._)("div",x,[(0,s._)("button",{class:"countBtn btn btn-muted btn-sm btn-dark text-white ms-2",id:"plus-btn",onClick:i[2]||(i[2]=(...t)=>q.addQty&&q.addQty(...t))},$)])])]),j,(0,s._)("button",{type:"button",class:"btn sty2",onClick:i[3]||(i[3]=t=>q.addToCart(z.info.id))}," 加到購物車 ")])])],64)}var D={data(){return{info:{},data:{},tempQty:1,isLoading:!1}},inject:["emitter"],methods:{getOneProduct(t){this.isLoading=!0;const i=`https://vue3-course-api.hexschool.io/api/david-api/product/${t}`;this.$http.get(i).then((t=>{this.isLoading=!1,this.info=t.data.product}))},addToCart(t){this.isLoading=!0;const i="https://vue3-course-api.hexschool.io/api/david-api/cart",e={product_id:t,qty:this.tempQty};this.$http.post(i,{data:e}).then((t=>{this.isLoading=!1,t.data.success?(console.log("addcart",t.data),this.emitter.emit("triggerCart"),this.emitter.emit("push-message",{style:"success",title:"新增購物車成功"})):this.emitter.emit("push-message",{style:"danger",title:"新增購物車失敗"})}))},addQty(){this.tempQty=this.tempQty+1},minusQty(){this.tempQty=this.tempQty-1}},created(){this.getOneProduct(this.$route.params.productId)}},T=e(89);const U=(0,T.Z)(D,[["render",q]]);var W=U}}]);
//# sourceMappingURL=173.2e151780.js.map