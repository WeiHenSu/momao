"use strict";(self["webpackChunkfinal_project"]=self["webpackChunkfinal_project"]||[]).push([[918],{2918:function(t,e,r){r.r(e),r.d(e,{default:function(){return x}});var a=r(3396),i=r(7139);const d={"aria-label":"breadcrumb"},s={class:"breadcrumb"},o={class:"breadcrumb-item"},l=(0,a._)("li",{class:"breadcrumb-item active","aria-current":"page"},"查詢訂單",-1),n=(0,a._)("div",{class:"pageTitle fs-4 py-2 mb-4 fw-bolder"}," 查詢訂單 ",-1),c={key:0,class:"orderTable table my-4"},h=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{width:"20%"},"訂單編號"),(0,a._)("th",{width:"10%"},"訂購日期"),(0,a._)("th",{width:"20%"},"訂購商品"),(0,a._)("th",{width:"20%"},"訂購人資訊"),(0,a._)("th",{width:"10%"},"是否付款"),(0,a._)("th",{width:"10%"},"總額"),(0,a._)("th",{width:"10%"},"備註")])],-1),u={width:"20%","data-title":"訂單編號："},w={width:"10%","data-title":"訂購日期："},_={width:"20%","data-title":"訂購商品："},p={width:"20%","data-title":"訂購人資訊："},g={width:"10%","data-title":"是否付款："},f={key:0,class:"text-success"},m={key:1,class:"text-danger"},b={width:"10%","data-title":"總額："},I={width:"10%","data-title":"備註："},k={class:"remark"},v={class:"inputSearch mb-5"},y={type:"text",ref:"searchId",placeholder:"請輸入訂單編號",class:"w-50"};function D(t,e,r,D,z,L){const S=(0,a.up)("LoadingComponent"),x=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(S,{active:z.isLoading},null,8,["active"]),(0,a._)("nav",d,[(0,a._)("ol",s,[(0,a._)("li",o,[(0,a.Wm)(x,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("首頁")])),_:1})]),l])]),n,z.showOrder?((0,a.wg)(),(0,a.iD)("table",c,[h,(0,a._)("tbody",null,[(0,a._)("tr",null,[(0,a._)("td",u,(0,i.zw)(z.orderInfo.id),1),(0,a._)("td",w,(0,i.zw)(new Date(1e3*z.orderInfo.create_at).toLocaleDateString()),1),(0,a._)("td",_,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(z.orderInfo.products,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"productList",key:t.id},(0,i.zw)(t.product.title)+" / "+(0,i.zw)(t.qty)+" "+(0,i.zw)(t.product.unit),1)))),128))]),(0,a._)("td",p,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(z.orderInfo.user,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"userInfo",key:t.name},(0,i.zw)(t),1)))),128))]),(0,a._)("td",g,[z.orderInfo.is_paid?((0,a.wg)(),(0,a.iD)("span",f,"付款")):((0,a.wg)(),(0,a.iD)("span",m,"未付款"))]),(0,a._)("td",b,"$"+(0,i.zw)(z.orderInfo.total),1),(0,a._)("td",I,[(0,a._)("p",k,(0,i.zw)(z.orderInfo.message),1)])])])])):(0,a.kq)("",!0),(0,a._)("div",v,[(0,a._)("input",y,null,512),(0,a._)("button",{type:"button",class:"btn searchBtn mt-3",onClick:e[0]||(e[0]=(...t)=>L.goSearch&&L.goSearch(...t))}," 查詢 ")])],64)}var z={data(){return{orderId:"",orderInfo:{},showOrder:!1,isLoading:!1}},inject:["emitter"],methods:{goSearch(){this.isLoading=!0,this.orderId=this.$refs.searchId.value;const t=`https://vue3-course-api.hexschool.io/api/david-api/order/${this.orderId}`;this.$http.get(t).then((t=>{this.isLoading=!1,null===t.data.order?this.emitter.emit("push-message",{style:"danger",title:"查無此訂單"}):(this.orderInfo=t.data.order,this.showOrder=!0,console.log(this.orderInfo),this.emitter.emit("push-message",{style:"success",title:"查詢訂單成功"}))}))}}},L=r(89);const S=(0,L.Z)(z,[["render",D]]);var x=S}}]);
//# sourceMappingURL=918.87461422.js.map